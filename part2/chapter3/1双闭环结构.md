---
sort: 1
---
# 双闭环结构与系统静特性


## 系统结构

转速单闭环PI控制系统存在过流问题，前面提出了一种方案**电流截止负反馈**。但是转速但闭环无法按照要求充分控制电流，更理想的电流（转矩）控制方式：

启动时，启动电流为允许的最大值，转速最快上升；到给定转速，电流下降，稳态转矩与负载转矩平衡；制动时，为反向最大允许电流。

<center>
    <img src="./images/理想过度.jpg" width=180 />
</center>

理想是这样的，但是电感电流是不能突变的，尽管如此，我们还是要尽可能地往这个方向靠。

电流负反馈可以控制电流，启动时要控制电流，在达到稳态转速后要控制转速并且电流控制不要起阻碍作用。显然需要用两个控制器，这两个控制器使用串联的方式，这也就是常说的**串级PID**。

<center>
    <img src="./images/双闭环原理图.jpg" width=380 />
</center>

转速调节器ASR的输出作为电流调节器ACR的输入，用ACR去控制电力电子变换器。电流环为内环，转速转为外环，这两个控制器一般都用PI控制器。这两个控制器输出都是带限幅的。

上图这个$$ U_i $$是电流负反馈，从变换器前面引出来的，和从电机引出来差了个系数。能量守恒，所以这里的电流也是可以反映电机电枢电流的。

## 稳态分析

上面给出的是原理图，进行数量的分析的时候，就要转化成数学模型了，很容易可以给出稳态结构框图

<center>
    <img src="./images/双闭环框图.jpg" width=350 />
</center>

稳态下扰动是负载电流，调节器饱和时，输出会做限幅处理，输入对输出就没影响了，需要反向输入使控制器退出饱和。

转速调节器不饱和时，两个调节器都不饱和，到达稳态时偏差为0，有

$$ U_n^* = U_n = \alpha n = \alpha n^* $$

$$ U_i^* = U_i = \beta I_d = \beta I_{dL} $$

也即稳态时，$$ n = \frac{U_n^*}{\alpha} = n^* $$，ASR输出小于限幅值，$$ I_d $$也小于其限幅值$$ I_{dm} $$，$$ I_{dm} $$肯定是大于负载电流的。因此其调节器不饱和时静特性就是下图AB段：

<center>
    <img src="./images/不饱和静特性.jpg" width=180 />
</center>

当ASR饱和，其输出到达限幅$$ U_{im}^* $$，实际上相当于外环开环，转速变化对转速控制已经没影响了。双闭环系统这时候就是个无静差的电流闭环控制系统。稳态时$$ I_d = \frac{U_{im}^*}{\beta} = I_{dm} $$

因此，ASR的输出限幅值$$ U_{im}^* $$取决于最大电流$$ I_{dm} $$，这个值是设计者选的，兼顾最大加速度和电动机允许的最大过载能力。


双闭环闭环系统的静态特性在负载电流小于$$ I_{dm} $$时，是一个无静差的转速控制控制系统，当负载电流达到$$ I_{dm} $$以后，ASR为饱和输出限幅值，ACR起作用，系统表现为电流无静差，起到了过流保护的作用。电动机以最大允许加速度进行加速减速，这就很接近理想的控制过程了。

稳态工作点参数的计算。都不饱和时，有

$$ U_n^* = U_n = \alpha n = \alpha n^* $$

$$ U_i^* = U_i = \beta I_d = \beta I_{dL} $$

$$ U_c = \frac{U_{d0}}{K_s} = \frac{C_e n + I_d R}{K_s} = \frac{C_e U_n^* / \alpha + I_{dL}R}{K_s} $$

可以看出在稳态工作点，转速$$ n $$由给定电压$$ U_n^* $$决定的，ASR的输出量$$ U_i^* $$是由负载电流$$ I_{dL} $$决定的，而ACR的输出量控制电压$$ U_c $$的大小则同时取决于$$ n $$和$$ I_d $$（$$ U_n^* $$和$$ I_{dL} $$）。

饱和后，应为最大控制电压$$ U_{cm} $$，该值作为ACR的最小输出限幅，同时也要考虑电力电子变换器的输出电压。

PI调节器和P调节器的输出不同体现：P调节器输出总是正比于输入；PI的饱和输出为限幅值，非饱和输出在动态过程取决于输入的积分，稳态后输入为0，输出的稳定值是由后面环节的需要决定的，后面需要PI调节器提供多大的输出值都能做到，直到饱和为止。

基于稳态工作点，可以很容易找到反馈参数$$ \alpha $$和$$ \beta $$，给定的最大值也可以自己选。



