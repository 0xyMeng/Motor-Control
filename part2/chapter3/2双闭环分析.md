---
sort: 2
---
# 双闭环控制系统数学模型与动态过程


## 动态数学模型

在前面单闭环的基础上，考虑双闭环控制系统的结构图，为了引出电枢电流，原来写成二阶系统的电动机得拆开来，最后结构图就是下面这样子

<center>
    <img src="./images/双闭环动态框图.jpg" width=450 />
</center>



## 动态过程分析


### 启动分析

<center>
    <img src="./images/双闭环启动.jpg" width=280 />
</center>

电机控制系统的被控对象是转速，其跟随性能可以用阶跃响应来描述。在恒定负载下，转速的变换是由转矩（电流）决定的，因此这两个状态量要放在一起对比研究。上图是一个带负载下启动的电流波形和转速波形。

I阶段，调节电流到最大允许值，在大于负载电流后，合转矩大于0，转速开始增加。$$ t_1 $$时刻达到最大允许电流值。ASR很快饱和，ACR不饱和。

II阶段，电流控制在最大允许值，合转矩恒定，转速稳定上升。这里有个小问题是电流并不是被PI控制器控制在$$ I_{dm} $$，是有误差的。ASR饱和，转速环相当于开环，$$ U_{im}^* $$入，$$ I_d $$出，有了PI控制器以后实际上是个I型系统，只能无静差跟随阶跃信号，但是要注意产生静差的原因是扰动反电势$$ E = C_e n $$，斜坡信号的“档次”比较高，I型系统无法无静差跟随。

III阶段为转速调节，因为ASR有积分饱和，所以转速还会上升一点需要退饱和。在电流大于负载电流前，转速还要上升的，合转矩和转速同向。电磁转矩和负载转矩平衡以后，转速稳定。如果参数调不好，这里会震荡。这个阶段ASR和ACR都不饱和，ASR主导调节，ACR力图使得$$I_d$$尽快跟随给定值$$ U_i^* $$


可以看出双闭环电机控制的特点：
- 饱和非线性控制。随着ASR饱和与不饱和，系统处于两种状态，并不是线性的，不可以简单的用线性控制理论来分析启动过程，也无法用线性控制里来粗略设计，只能分段线性来分析。
- 转速有超调。ASR采用PI控制器时，必然有超调。如果不允许有超调，还得用其他办法。
- 准时间最优。在物理设备允许的条件下实现最短时间的控制。


### 制动分析

<center>
    <img src="./images/双闭环制动.jpg" width=280 />
</center>

带负载运行时，突然收到停车指令。先衰减到0，然后反向增加到最大允许值，并且维持住，有静差的原因和前面一样，

### 动态抗扰性能分析

对于电机控制，重要的抗扰性能时靠负载扰动和电源电压波动扰动。

由控制框图，负载电流扰动影响在电流环之后，因此只能靠ASR来抵抗负载扰动，在设计ASR时，应该有比较好的抗扰性能指标，

对于电网电压扰动，与转速单闭环做个比较，这里重新画一下单闭环的结构框图做一个对比

<center>
    <img src="./images/抵抗电源波动.jpg" width=480 />
</center>

两个系统的反馈都包围了电源电压波动和负载扰动，从稳态来说效果一样的。但是动态性能不同，有了电流环，电压波动通过电流反馈可以及时得到调节，不需要等到电压波动影响转速后才反馈回来调节。


## ASR、ACR作用

ASR
- 系统的主导调节器，使转速$$ n $$跟随给定$$ U_n^* $$，如果使用PI控制器，可以无静差
- 对负载变化抗扰
- 输出限幅决定电机最大电流

ACR
- 内环，使电流紧紧跟随给定电压$$ U_i^* $$
- 对电源电压波动起及时抗扰的作用
- 转速动态过程中，保证电动机为最大允许电流，使得加速度最大
- 电机过载或者堵转时，限制电枢电流最大值，起快速的自动保护作用。





